# Для работы с автотестами вам необходимо установить следующее ПО
- IntelliJ IDEA 2022.3.2 (Community Edition)
- Amazon corretto OpenJDK 11.0.18
- Git(последняя версия)
- Docker Desktop(последняя версия)
- Node.js(последняя версия)

Для работы приложений необходима регистрация(кроме Node.js).

# Запуск автотестов
1. Создайте пустой проект в среде разработки IntelliJ IDEA.
2. Инициализируйте репозиторий в папке проекта с помощью Git.
3. Клонируйте репозиторий https://github.com/Cha1nheart/Diploma в ваш пустой проект.
4. Запустите Docker Desktop.
5. Запустите IntelliJ IDEA и откройте проект, который был клонирован в шаге № 3.
6. Откройте терминал из корневой папки проекта. Используйте команду <code>docker compose up</code> для запуска контейнеров.
7. Откройте терминал из корневой папки проекта. Запустите приложение *aqa-shop.jar* командой <code>java -jar ./aqa-shop.jar</code>.
8. Откройте терминал из папки "**/gate-simulator**" и используйте команду <code>npm start</code> для запуска симулятора базы данных.
9. Откройте терминал из корневой папки проекта. Для запуска тестов выполните команду <code>gradlew clean test --info</code>.

## Работа с PostgreSQL

Соединение с базой данных настроено через подключение к MySQL.
Для проверки работы базы данных через PostgreSQL необходимо изменить настройки файла *application.properties* и сделать правки в коде автотестов:
- В каждом из терминалов выполните комаду <code>ctrl+C</code> для остановки работы симулятора, приложения и контейнеров;
- Откройте файл *application.properties* в IntelliJ IDEA 2022.3.2 (Community Edition);
- Замените третью строку на текст <code>spring.datasource.url=jdbc:postgresql://localhost:5432/app</code>;
- Закомментировать 33 строку кода в тестовых классах и, соответственно, уберите комментарий с 34 строки кода. В самих классах так же есть указания;
- Следуйте инструкциям списка "Запуск автотестов" с пункта № 6.